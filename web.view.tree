$mol_scroll $mol_view
	scroll_top? 0
	scroll_left? 0
	attr *
		^
		tabindex <= tabindex -1
	event *
		^
		scroll?event <=> event_scroll?event null

$mol_book2 $mol_scroll
	menu_title \
	sub /$mol_view
		^ pages <= pages_deep /$mol_view
		^ placeholders /$mol_view
			<= Placeholder $mol_view
	minimal_width 0
	Gap* $mol_view title \

$mol_theme_auto $mol_plugin
	light \$mol_theme_light
	attr * mol_theme <= theme <= dark \$mol_theme_dark

$mol_page $mol_view
	dom_name \article
	attr *
		^
		tabIndex <= tabindex -1
	sub /
		<= Head $mol_view
			minimal_height 64
			dom_name \header
			sub <= head /
				<= Title $mol_view
					dom_name \h1
					sub <= title_content /
						<= Logo null
						<= title
				<= Tools $mol_view
					sub <= tools /$mol_view_content
		<= Body $mol_scroll
			scroll_top? => body_scroll_top?
			sub <= body_content /
				<= Body_content $mol_view
					sub <= body /$mol_view
		<= Foot $mol_view
			dom_name \footer
			sub <= foot /$mol_view

$mol_hotkey $mol_plugin
	event *
		^
		keydown?event <=> keydown?event null
	key *
	mod_ctrl false
	mod_alt false
	mod_shift false

$mol_ghost $mol_view
	Sub $mol_view

$mol_follower $mol_ghost
	Anchor $mol_view
	align /number
		-.5
		-.5
	offset /number
		0
		0
	style *
		^
		transform <= transform \

$mol_pop $mol_view
	showed? false
	align_vert \
	align_hor \
	align \bottom_center
	prefer \vert
	auto /
		<= bubble null
	sub /
		<= Anchor null
	sub_visible /
		<= Anchor
		<= Follower $mol_follower
			offset <= bubble_offset /number
				0
				1
			align <= bubble_align /number
				0
				0
			Anchor <= Anchor
			Sub <= Bubble $mol_pop_bubble
				content <= bubble_content /$mol_view_content
				height_max <= height_max 9999

$mol_pop_bubble $mol_view
	sub <= content /$mol_view_content
	style *
		^
		maxHeight <= height_max 9999
	attr *
		^
		tabindex 0
		popover \manual

$mol_speck $mol_view
	theme \$mol_theme_accent
	sub /
		<= value null

$mol_button $mol_view
	enabled true
	click?event null
	event_click?event null
	status? /
	event *
		^
		click?event <=> activate?event <=> event_activate?event null
		dblclick?event <=> clicks?event null
		keydown?event <=> key_press?event <=> event_key_press?event null
	attr *
		^
		disabled <= disabled false
		role \button
		tabindex <= tab_index 0
		title <= hint_safe <= hint \
	sub /$mol_view_content
		<= title
	Speck $mol_speck
		value <= error \

$mol_button_typed $mol_button
	minimal_height 40
	minimal_width 40

$mol_button_minor $mol_button_typed

$mol_check $mol_button_minor
	attr *
		^
		mol_check_checked <= checked? false
		aria-checked <= aria_checked \false
		role <= aria_role \checkbox
	sub /$mol_view_content
		<= Icon null
		<= label /
			<= Title $mol_view
				sub /
					<= title \

$mol_pick $mol_pop
	event *
		^
		keydown?event <=> keydown?event null
	Anchor <= Trigger $mol_check
		minimal_width 40
		minimal_height 40
		enabled <= trigger_enabled true
		checked? <=> showed?
		clicks? <=> clicks? null
		sub <= trigger_content /$mol_view_content
			<= title
		hint <= hint \

$mol_paragraph $mol_view
	line_height 24
	letter_width 7
	width_limit +Infinity
	row_width 0
	sub / <= title

$mol_dimmer $mol_paragraph
	haystack \
	needle \
	sub <= parts /$mol_view_content
	Low* $mol_paragraph
		sub /
			<= string* \
	High* $mol_paragraph
		sub /
			<= string* \

$mol_nav $mol_plugin
	cycle? false
	-
	mod_ctrl false
	mod_shift false
	mod_alt false
	-
	keys_x? /
	keys_y? /
	-
	current_x? null
	current_y? null
	-
	event_up?event null
	event_down?event null
	event_left?event null
	event_right?event null
	event *
		^
		keydown?event <=> event_key?event null

$mol_list $mol_view
	render_visible_only true
	render_over 0.1
	sub <= rows /$mol_view
		<= Gap_before $mol_view style * paddingTop <= gap_before 0
		<= Empty $mol_view
		<= Gap_after $mol_view style * paddingTop <= gap_after 0
	item_height_min* 1
	item_width_min* 1
	view_window_shift? 0
	view_window /
		0
		0

$mol_string $mol_view
	dom_name \input
	enabled true
	minimal_height 40
	autocomplete false
	selection? /number
		0
		0
	auto /
		<= selection_watcher null
		<= error_report null
	field *
		^
		disabled <= disabled false
		value <= value_changed? <=> value? \
		placeholder <= hint_visible <= hint \
		spellcheck <= spellcheck true
		autocomplete <= autocomplete_native \
		selectionEnd <= selection_end 0
		selectionStart <= selection_start 0
		inputMode <= keyboard \text
		enterkeyhint <= enter \go
	attr *
		^
		maxlength <= length_max +Infinity
		type <= type? \text
	event *
		^
		input?event <=> event_change?event null
	plugins /
		<= Submit $mol_hotkey
			mod_ctrl <= submit_with_ctrl false
			key * enter?event <=> submit?event null

$mol_svg $mol_view
	dom_name \svg
	dom_name_space \http://www.w3.org/2000/svg
	font_size 16
	font_family \
	style_size *

$mol_svg_root $mol_svg
	dom_name \svg
	attr *
		^
		viewBox <= view_box \0 0 100 100
		preserveAspectRatio <= aspect \xMidYMid

$mol_svg_path $mol_svg
	dom_name \path
	attr *
		^
		d <= geometry \


$mol_icon $mol_svg_root
	view_box \0 0 24 24
	minimal_width 16
	minimal_height 16
	sub /
		<= Path $mol_svg_path
			geometry <= path \

$mol_icon_close $mol_icon path \M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z

$mol_search $mol_pop
	query? \
	suggests /string
	plugins /$mol_plugin
		^
		<= Hotkey $mol_hotkey
			key * escape? <=> clear? null
		<= Nav $mol_nav
			keys_y <= nav_components /$mol_view
			current_y?component <=> nav_focused?component null
	showed? <=> suggests_showed? false
	align_hor \right
	Anchor $mol_view
		sub <= anchor_content /
			<= Query $mol_string
				value? <=> query? \
				hint <= hint @ \Search...
				submit?event <=> submit?event null
				enabled <= enabled true
				keyboard <= keyboard \search
				enter <= enter \search
				bring => bring
			<= Clear $mol_button_minor
				hint @ \Clear
				enabled <= enabled true
				click?event <=> clear?event null
				sub /
					<= Clear_icon $mol_icon_close
	bubble_content /$mol_view_content
		<= Bubble_pane $mol_scroll
			sub /
				<= Menu $mol_list
					rows <= menu_items /$mol_view
	Suggest* $mol_button_minor
		click?event <=> suggest_select*?event null
		sub <= suggest_content* /$mol_view_content
			<= Suggest_label* $mol_dimmer
				haystack <= suggest_label* \
				needle <= query? \

$mol_icon_dots_vertical $mol_icon path \M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z

$mol_select $mol_pick
	dictionary? *
	options /string
	value? \
	option_label_default \
	Option_row* $mol_button_minor
		enabled <= enabled true
		event_click?event <=> event_select*?event null
		sub <= option_content* /
			<= Option_label* $mol_dimmer
				haystack <= option_label* \
				needle <= filter_pattern? \
	No_options $mol_view
		sub /
			<= no_options_message @ \No¬†options
	plugins /
		^
		<= Nav $mol_nav
			keys_y <= nav_components /$mol_view
			current_y?component <=> option_focused?component null
			cycle? <=> nav_cycle? true
	hint @ \Pick..
	bubble_content /
		<= Filter
		<= Bubble_pane $mol_scroll
			sub /
				<= Menu $mol_list
					rows <= menu_content /$mol_view
	Filter $mol_search
		query? <=> filter_pattern? \
		hint <= filter_hint @ \Filter..
		submit?event <=> submit?event null
		enabled <= enabled true
	Trigger_icon $mol_icon_dots_vertical

$mol_labeler $mol_list
	rows /
		<= Label $mol_view
			minimal_height 32
			sub <= label /$mol_view_content
				<= title
		<= Content $mol_view
			minimal_height 24
			sub <= content /

$mol_form_field $mol_labeler
	bids /string
	label /
		<= name \
		<= Bid $mol_view
			sub / <= bid \
	content / <= control null

$mol_button_major $mol_button_minor
	theme \$mol_theme_base

$mol_status $mol_view
	status <= title
	minimal_height 24
	minimal_width 0
	sub /
		<= message \

$mol_row $mol_view

$mol_form $mol_list
	submit_allowed true
	submit_blocked false
	event *
		^
		keydown?event <=> keydown?event null
	save?event null
	message_done @ \Saved
	errors *string
		\Form invalid
			<= form_invalid @ \Form is not valid
	rows /
		<= Body $mol_list
			sub <= body <= form_fields /$mol_form_field
		<= Foot $mol_row
			sub <= foot <= buttons /$mol_view
				<= Submit $mol_button_major
					title <= submit_title @ \Save
					hint <= submit_hint \
					activate? => submit_activate?
					click? <=> submit? null
				<= Result $mol_status
					message <= result? null

$hyoo_shelter_auth_form $mol_page
	title \–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏—é—Ç–æ–≤
	plugins /
		<= Enter $mol_hotkey
			key * enter?event <=> submit?event null
	body /
		<= Form $mol_form
			form_fields /
				<= Login_field $mol_form_field
					name <= Login_name \–õ–æ–≥–∏–Ω
					control <= Login $mol_select
						value?val <=> login?val \user
						dictionary *
							user \–ñ–ö–•
							gbu1 \–ì–ë–£_1
							gbu2 \–ì–ë–£_2
							gbu3 \–ì–ë–£_3
							gbu4 \–ì–ë–£_4
							gbu5 \–ì–ë–£_5
							gbu6 \–ì–ë–£_6
							gbu7 \–ì–ë–£_7
							gbu8 \–ì–ë–£_8
							gbu9 \–ì–ë–£_9
							gbu10 \–ì–ë–£_10
							gbu11 \–ì–ë–£_11
							gbu12 \–ì–ë–£_12
							gbu13 \–ì–ë–£_13
							admin1 \–ü—Ä–µ—Ñ–µ–∫—Ç—É—Ä–∞_1
							admin2 \–ü—Ä–µ—Ñ–µ–∫—Ç—É—Ä–∞_2
							admin3 \–ü—Ä–µ—Ñ–µ–∫—Ç—É—Ä–∞_3
							admin4 \–ü—Ä–µ—Ñ–µ–∫—Ç—É—Ä–∞_4
							admin5 \–ü—Ä–µ—Ñ–µ–∫—Ç—É—Ä–∞_5
							admin6 \–ü—Ä–µ—Ñ–µ–∫—Ç—É—Ä–∞_6
							admin7 \–ü—Ä–µ—Ñ–µ–∫—Ç—É—Ä–∞_7
							admin8 \–ü—Ä–µ—Ñ–µ–∫—Ç—É—Ä–∞_8
							trustee1 \–ü—Ä–∏—é—Ç_1
							trustee2 \–ü—Ä–∏—é—Ç_2
							trustee3 \–ü—Ä–∏—é—Ç_3
							trustee4 \–ü—Ä–∏—é—Ç_4
							trustee5 \–ü—Ä–∏—é—Ç_5
							trustee6 \–ü—Ä–∏—é—Ç_6
							trustee7 \–ü—Ä–∏—é—Ç_7
							trustee8 \–ü—Ä–∏—é—Ç_8
							trustee9 \–ü—Ä–∏—é—Ç_9
							trustee10 \–ü—Ä–∏—é—Ç_10
							trustee11 \–ü—Ä–∏—é—Ç_11
							trustee12 \–ü—Ä–∏—é—Ç_12
							trustee13 \–ü—Ä–∏—é—Ç_13
				<= Pass_field $mol_form_field
					name <= Pass_name \–ü–∞—Ä–æ–ª—å
					control <= Pass $mol_string
						type \password
						value?val <=> pass?val \password
						enabled false
			buttons /
				<= Submit $mol_button_major
					title <= Auth_label \–í–æ–π—Ç–∏
					click?val <=> auth?val null

$mol_link $mol_view
	uri \
	dom_name \a
	uri_off \
	uri_native null
	external false
	attr *
		^
		href <= uri_toggle \
		title <= hint_safe <= hint \
		target <= target \_self
		download <= file_name \
		mol_link_current <= current false
		rel <= relation \
	sub /$mol_view_content
		<= title
	arg *
	event *
		^
		click?event <=> click?event <=> event_click?event null

$mol_icon_script $mol_icon path \M17.8,20C17.4,21.2 16.3,22 15,22H5C3.3,22 2,20.7 2,19V18H5L14.2,18C14.6,19.2 15.7,20 17,20H17.8M19,2H8C6.3,2 5,3.3 5,5V16H16V17C16,17.6 16.4,18 17,18H18V5C18,4.4 18.4,4 19,4C19.6,4 20,4.4 20,5V6H22V5C22,3.3 20.7,2 19,2Z

$mol_icon_script_text $mol_icon path \M17.8,20C17.4,21.2 16.3,22 15,22H5C3.3,22 2,20.7 2,19V18H5L14.2,18C14.6,19.2 15.7,20 17,20H17.8M19,2C20.7,2 22,3.3 22,5V6H20V5C20,4.4 19.6,4 19,4C18.4,4 18,4.4 18,5V18H17C16.4,18 16,17.6 16,17V16H5V5C5,3.3 6.3,2 8,2H19M8,6V8H15V6H8M8,10V12H14V10H8Z

$mol_link_source $mol_link
	hint @ \Source code
	sub /
		<= Icon $mol_icon_script_text

$mol_check_icon $mol_check

$mol_icon_brightness_4 $mol_icon path \M12,18C11.11,18 10.26,17.8 9.5,17.45C11.56,16.5 13,14.42 13,12C13,9.58 11.56,7.5 9.5,6.55C10.26,6.2 11.11,6 12,6A6,6 0 0,1 18,12A6,6 0 0,1 12,18M20,8.69V4H15.31L12,0.69L8.69,4H4V8.69L0.69,12L4,15.31V20H8.69L12,23.31L15.31,20H20V15.31L23.31,12L20,8.69Z

$mol_lights_toggle $mol_check_icon
	Icon <= Lights_icon $mol_icon_brightness_4
	hint @ \Toggle lights
	checked? <=> lights? false

$mol_icon_logout $mol_icon path \M17 7L15.59 8.41L18.17 11H8V13H18.17L15.59 15.58L17 17L22 12M4 5H12V3H4C2.9 3 2 3.9 2 5V19C2 20.1 2.9 21 4 21H12V19H4V5Z

$mol_icon_plus $mol_icon path \M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z

$mol_icon_download $mol_icon path \M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z

$mol_image $mol_view
	dom_name \img
	attr *any
		^
		src <= uri \
		title <= hint
		alt <= title \
		loading <= loading \lazy
		decoding <= decoding \async
		crossOrigin <= cors null
		width <= natural_width 0
		height <= natural_height 0
	event *any
		load? <=> load? null
	minimal_width 16
	minimal_height 16

$mol_icon_upload $mol_icon path \M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z

$mol_button_open $mol_button_minor
	sub /
		<= Icon $mol_icon_upload
		<= Native $mol_button_open_native
			files? <=> files_handled? <=> files? /File
			accept <= accept \
			multiple <= multiple true

$mol_button_open_native $mol_view
	dom_name \input
	files? /File
	attr *
		type \file
		accept <= accept \
		multiple <= multiple true
	event *
		change?next <=> picked?next null

$mol_attach $mol_view
	items? /string
	sub /
		<= Content $mol_row
			sub <= content /$mol_view
	Add $mol_button_open
		title <= attach_title \
		files? <=> attach_new? null
	Item* $mol_button_minor
		click?event <=> item_drop*?event null
		sub /
			<= Image* $mol_image
				title \
				uri <= item_uri* \

$mol_check_list $mol_view
	dictionary *
	Option* $mol_check
		checked? <=> option_checked*? false
		label <= option_label* /
			<= option_title* \
		enabled <= option_enabled* <= enabled true
		hint <= option_hint* \
		minimal_height 24
	options *
	keys /string
	sub <= items /$mol_check

$mol_switch $mol_check_list
	value? \

$mol_icon_chevron $mol_icon path \M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z

$mol_icon_chevron_left $mol_icon path \M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z

$mol_icon_chevron_right $mol_icon path \M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z

$mol_number $mol_view
	precision_view <= precision 1
	precision_change <= precision 1
	boost 10
	value_min -Infinity
	value_max +Infinity
	value? +NaN
	enabled true
	plugins /
		<= Hotkey $mol_hotkey
			key *
				down? <=> event_dec? null
				up? <=> event_inc? null
				pageDown? <=> event_dec_boost? null
				pageUp? <=> event_inc_boost? null
	sub /
		<= Dec $mol_button_minor
			event_click? <=> event_dec? null
			enabled <= dec_enabled <= enabled
			sub / <= dec_icon $mol_icon_chevron_left
		<= String $mol_string
			- \ we don't want native number controls in mobile devices
			- \ https://stackoverflow.com/questions/3790935/can-i-hide-the-html5-number-input-s-spin-box
			type <= type \text
			keyboard \decimal
			value? <=> value_string? \
			hint <= hint \ 
			enabled <= string_enabled <= enabled
			submit? <=> submit? null
		<= Inc $mol_button_minor
			event_click? <=> event_inc? null
			enabled <= inc_enabled <= enabled
			sub / <= inc_icon $mol_icon_chevron_right

$mol_stack $mol_view

$mol_text_code_token $mol_dimmer
	attr *
		^
		mol_text_code_token_type <= type \

$mol_text_code_token_link $mol_text_code_token
	dom_name \a
	type \code-link
	attr *
		^
		href <= uri \
		target \_blank

$mol_text_code_line $mol_paragraph
	text \
	minimal_height 24
	numb_showed true
	syntax null
	uri_resolve* \
	Numb $mol_view
		sub /
			<= numb 0
	Token* $mol_text_code_token
		type <= token_type* \
		haystack <= token_text* \
		needle <= highlight \
	Token_link* $mol_text_code_token_link
		haystack <= token_text* \
		needle <= highlight \
		uri <= token_uri* \
	find_pos* null

$mol_icon_clipboard $mol_icon path \M19,3H14.82C14.4,1.84 13.3,1 12,1C10.7,1 9.6,1.84 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3

$mol_icon_clipboard_outline $mol_icon path \M19,3H14.82C14.4,1.84 13.3,1 12,1C10.7,1 9.6,1.84 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M7,7H17V5H19V19H5V5H7V7Z

$mol_button_copy $mol_button_minor
	blobs /$mol_blob
		<= text_blob? $mol_blob /
			/BlobPart <= text <= title
			* type \text/plain
		<= html_blob? $mol_blob /
			/BlobPart <= html \
			* type \text/html
	data *
	sub /
		<= Icon $mol_icon_clipboard_outline
		<= title \


$mol_text_code $mol_stack
	attr *
		^
		mol_text_code_sidebar_showed <= sidebar_showed false
	text \
	text_lines /string
	find_pos* null
	uri_base \
	row_themes /string
	sub /
		<= Rows $mol_list
			render_visible_only <= render_visible_only false
			rows <= rows /
				<= Row*0 $mol_text_code_line
					numb_showed <= sidebar_showed
					numb <= row_numb* 0
					theme <= row_theme* \
					text <= row_text* \
					syntax <= syntax null
					uri_resolve* <= uri_resolve* \
					highlight <= highlight \
		<= Copy $mol_button_copy
			hint @ \Copy whole code
			text <= text_export \

$mol_textarea $mol_stack
	attr *
		^
		mol_textarea_clickable <= clickable? false
		mol_textarea_sidebar_showed <= sidebar_showed false
	event *
		keydown?event <=> press?event null
		pointermove?event <=> hover?event null
	sub /
		<= Edit $mol_textarea_edit
			value? <=> value? \
			hint <= hint \ 
			enabled <= enabled true
			spellcheck <= spellcheck true
			length_max <= length_max +Infinity
			selection? <=> selection? /number
			bring => bring
			submit? <=> submit? null
			submit_with_ctrl <= submit_with_ctrl true
		<= View $mol_text_code
			text <= value
			render_visible_only false
			row_numb* <= row_numb* 0
			sidebar_showed <= sidebar_showed
			highlight <= highlight \
			syntax <= syntax $mol_syntax2
	symbols_alt *string
		comma \<
		period \>
		dash \‚àí
		equals \‚âà
		graveAccent \ÃÅ
		forwardSlash \√∑
		E \‚Ç¨
		V \‚úî
		X \√ó
		C \¬©
		P \¬ß
		H \‚ÇΩ
		key0 \¬∞
		key8 \‚Ä¢
		key2 \@
		key3 \#
		key4 \$
		key6 \^
		key7 \&
		bracketOpen \[
		bracketClose \]
		slashBack \|
	symbols_alt_ctrl *string
		space \¬†
	symbols_alt_shift *string
		V \‚úÖ
		X \‚ùå
		O \‚≠ï
		key1 \‚ùó
		key4 \üí≤
		key7 \‚ùì
		comma \¬´
		period \¬ª
		semicolon \‚Äú
		quoteSingle \‚Äù
		dash \‚Äî
		equals \‚â†
		graveAccent \Ã±
		bracketOpen \{
		bracketClose \}

$mol_textarea_edit $mol_string
	dom_name \textarea
	enter \enter
	field *
		^
		scrollTop 0

$mol_icon_calendar $mol_icon path \M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z

$mol_icon_calendar_today $mol_icon path \M7,10H12V15H7M19,19H5V8H19M19,3H18V1H16V3H8V1H6V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3Z

$mol_format $mol_string
	allow \0123456789
	hint <= mask*0 \
	keyboard \numeric

$mol_icon_trash_can $mol_icon path \M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M9,8H11V17H9V8M13,8H15V17H13V8Z

$mol_icon_trash_can_outline $mol_icon path \M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z

$mol_hor $mol_view

$mol_calendar $mol_list
	sub /
		<= Head $mol_view
			sub <= head /
				<= Title $mol_view
					minimal_height 24
					sub /
						<= title \
		<= Weekdays $mol_hor
			sub <= weekdays /$mol_view
	weeks /$mol_view
	weeks_count 6
	-
	Weekday* $mol_calendar_day
		holiday <= weekend* false
		sub /
			<= weekday* \
	-
	Week* $mol_hor
		sub <= week_days* /$mol_view
	-
	Day* $mol_calendar_day
		ghost <= day_ghost* false
		holiday <= day_holiday* false
		selected <= day_selected* false
		today <= day_today* false
		theme <= day_theme* null
		sub <= day_content* /
			<= day_text* \
	-
	month_string \
	month_moment $mol_time_moment

$mol_calendar_day $mol_view
	minimal_height 24
	minimal_width 36
	attr *
		mol_calendar_holiday <= holiday false
		mol_calendar_ghost <= ghost false
		mol_calendar_selected <= selected false
		mol_calendar_today <= today false
		mol_theme <= theme null

$mol_date $mol_pick
	Icon $mol_icon_calendar
	-
	bubble_content /
		<= Input_row $mol_view sub <= input_content /
			<= Today $mol_button_minor
				hint @ \Today
				enabled <= enabled true
				click?event <=> today_click?event null
				sub /
					<= Today_icon $mol_icon_calendar_today
			<= Input $mol_format
				value? <=> value? \
				value_changed? => value_changed?
				mask* <= input_mask* \
				enabled <= enabled true
			<= Clear $mol_button_minor
				hint @ \Clear
				enabled <= enabled true
				click?event <=> clear?event null
				sub /
					<= Clear_icon $mol_icon_trash_can_outline
		<= Calendar $mol_date_calendar
			enabled <= enabled true
			month_moment <= month_moment <= value_moment
			day_selected* <= day_selected* false
			day_click*?event <=> day_click*?event null
			Title => Calendar_title
			head /
				<= Calendar_tools $mol_view
					sub /
						<= Prev $mol_button_minor
							hint <= prev_hint @ \Previous month
							click?event <=> prev?event null
							sub /
								<= Prev_icon $mol_icon_chevron_left
						<= Calendar_title
						<= Next $mol_button_minor
							hint <= next_hint @ \Next month
							click?event <=> next?event null
							sub /
								<= Next_icon $mol_icon_chevron_right
	-
	value_number? +NaN
	value_moment? $mol_time_moment

$mol_date_calendar $mol_calendar
	day_content* /
		<= Day_button* $mol_button_minor
			title <= day_text*
			event_click?event <=> day_click*?event null
			minimal_height 24
			enabled <= enabled true

$mol_icon_tick $mol_icon path \M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z

$mol_check_box $mol_check
	Icon $mol_icon_tick

$mol_form_group $mol_view

$hyoo_shelter_animal_edit $mol_page
	animal $hyoo_shelter_animal / *
	title \–î–∞–Ω–Ω—ã–µ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ
	enabled true
	tools /
		<= Download $mol_link
			hint \–°–∫–∞—á–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É –≤ –≤–∏–¥–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
			file_name <= download_name \
			uri <= download_link \
			sub /
				<= Download_icon $mol_icon_download
	body /
		<= Form $mol_form
			form_fields /
				<= Photos_field $mol_form_field
					name \–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏
					Content <= Photos $mol_attach
						items?val <=> photos?val /string
						minimal_height 160
						- attach_new?val <=> photo_new?val null
				<= Name_field $mol_form_field
					name \–ö–ª–∏—á–∫–∞
					Content <= Name $mol_string
						value?val <=> name?val \
						enabled <= enabled
				<= Card_field $mol_form_field
					name \–ù–æ–º–µ—Ä –∫–∞—Ä—Ç–æ—á–∫–∏
					Content <= Card $mol_string
						value?val <=> card?val \
						enabled <= enabled
				<= Chip_field $mol_form_field
					name \–ù–æ–º–µ—Ä —á–∏–ø–∞
					Content <= Chip $mol_string
						value?val <=> chip?val \
						enabled <= enabled
				<= Cage_field $mol_form_field
					name \–ù–æ–º–µ—Ä –≤–æ–ª—å–µ—Ä–∞
					Content <= Cage $mol_string
						value?val <=> cage?val \
						enabled <= enabled
				<= Kind_field $mol_form_field
					name \–ë–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –≤–∏–¥
					Content <= Kind $mol_switch
						value?val <=> kind?val \Cat
						enabled <= enabled
						options *
							Cat \üê± –ö–æ—à–∫–∞
							Dog \üê∂ –°–æ–±–∞–∫–∞
				<= Gender_field $mol_form_field
					name \–ü–æ–ª
					Content <= Gender $mol_switch
						value?val <=> gender?val \Male
						enabled <= enabled
						options *
							Male \üîµ –°–∞–º–µ—Ü
							Female \üü† –°–∞–º–∫–∞
				<= Departed_reason_field $mol_form_field
					name \–ü—Ä–∏—á–∏–Ω–∞ —É—Ö–æ–¥–∞
					Content <= Departed_reason $mol_switch
						value?val <=> departed_reason?val \
						enabled <= enabled
						options *
							Dead \–°–º–µ—Ä—Ç—å
							Owned \–ù–∞—à—ë–ª —Ö–æ–∑—è–∏–Ω–∞
				- <= Dead_reason_field $mol_form_field
					name \–ü—Ä–∏—á–∏–Ω–∞ —Å–º–µ—Ä—Ç–∏
					Content <= Dead_reason $mol_switch
						value?val <=> dead_reason?val \
						enabled <= enabled
						options *
							E \–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–∞—è
							Ev \–≠–≤—Ç–∞–Ω–∞–∑–∏—è
				<= Weight_field $mol_form_field
					name \–í–µ—Å –≤ –∫–∏–ª–æ–≥—Ä–∞–º–º–∞—Ö
					Content <= Weight $mol_number
						enabled <= enabled
						value?val <=> weight?val 0
				<= Size_field $mol_form_field
					name \–†–∞–∑–º–µ—Ä
					Content <= Size $mol_switch
						value?val <=> size?val \
						enabled <= enabled
						options *
							small \–ú–∞–ª–µ–Ω—å–∫–∏–π
							middle \–°—Ä–µ–¥–Ω–∏–π
							large \–ë–æ–ª—å—à–æ–π
				<= Tail_field $mol_form_field
					name \–î–∏–Ω–Ω–∞ —Ö–≤–æ—Å—Ç–∞
					Content <= Tail $mol_search
						hint \
						query?val <=> size?val \
						enabled <= enabled
						suggests <= tail_suggest /string
				<= Ear_field $mol_form_field
					name \–¢–∏–ø —É—à–µ–π
					Content <= Ear $mol_search
						hint \
						query?val <=> ear?val \
						enabled <= enabled
						suggests <= ear_suggest /string
				<= Color_field $mol_form_field
					name \–û–∫—Ä–∞—Å
					Content <= Color $mol_search
						hint \
						query?val <=> color?val \
						enabled <= enabled
						suggests <= color_suggest /string
				<= Fur_field $mol_form_field
					name \–¢–∏–ø —à–µ—Ä—Å—Ç–∏
					Content <= Fur $mol_search
						hint \
						query?val <=> fur?val \
						enabled <= enabled
						suggests <= fur_suggest /string
				<= Trait_field $mol_form_field
					name \–û—Ç–ª–∏—á–∏—Ç–µ–ª—å–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
					Content <= Trait $mol_textarea
						enabled <= enabled
				<= Arrived_date_field $mol_form_field
					name \–î–∞—Ç–∞ –ø—Ä–∏—ë–º–∞ –≤ –ø—Ä–∏—é—Ç
					content /
						<= Arrived_date $mol_date
							value_moment?val <=> arrived_date?val $mol_time_moment
							enabled <= enabled
				<= Born_date_field $mol_form_field
					name \–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è
					content /
						<= Born_date $mol_date
							value_moment?val <=> born_date?val $mol_time_moment
							enabled <= enabled
				<= Departed_date_field $mol_form_field
					name \–î–∞—Ç–∞ —É—Ö–æ–¥–∞
					content /
						<= Departed_date $mol_date
							value_moment?val <=> departed_date?val $mol_time_moment
							enabled <= enabled
				<= Depart_ready_field $mol_form_field
					Content <= Depart_ready $mol_check_box
						title \–ò—â–µ—Ç —Ö–æ–∑—è–∏–Ω–∞
						enabled <= enabled
				<= Description_field $mol_form_field
					name \–û–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è —Å–∞–π—Ç–∞
					Content <= Description $mol_textarea
						hint \–ò—Å—Ç–æ—Ä–∏—è –∂–∏–∑–Ω–∏, —Ö–∞—Ä–∞–∫—Ç–µ—Ä, –ø–æ–≤–∞–¥–∫–∏ –∏ —Ç–ø.
						enabled <= enabled
						value?val <=> description?val \
			body <= groups /
				<= Attaches $mol_form_group
					sub /
						<= Photos_field
				<= General $mol_form_group
					sub /
						<= Main $mol_form_group
							sub /
								<= Name_field
								<= Cage_field
						<= Codes $mol_form_group
							sub /
								<= Card_field
								<= Chip_field
				<= Dates $mol_form_group
					sub /
						<= Transitions $mol_form_group
							sub /
								<= Arrived_date_field
								<= Born_date_field
						<= Lifetime $mol_form_group
							sub /
								<= Departed_date_field
								<= Departed_reason_field
				<= Classification $mol_form_group
					sub /
						<= Types $mol_form_group
							sub /
								<= Kind_field
								<= Gender_field
						<= Gabarites $mol_form_group
							sub /
								<= Size_field
								<= Weight_field
				<= Appearance $mol_form_group
					sub /
						<= Ends $mol_form_group
							sub /
								<= Tail_field
								<= Ear_field
						<= Visual $mol_form_group
							sub /
								<= Color_field
								<= Trait_field
				<= Appearance2 $mol_form_group
					sub /
						<= Visual2 $mol_form_group
							sub /
								<= Fur_field
				<= Exports $mol_form_group
					sub /
						<= Description_field
						<= Depart_ready_field
				<= Documents $mol_form_group
					sub /
						<= Catch_field $mol_form_field
							name \–ê–∫—Ç—ã –æ—Ç–ª–æ–≤–∞
							Content <= Catch $hyoo_shelter_animal_edit_links
						<= Procedure_field $mol_form_field
							name \–ü—Ä–æ—Ü–µ–¥—É—Ä—ã
							Content <= Procedure $hyoo_shelter_animal_edit_links
						<= Contract_field $mol_form_field
							name \–î–æ–≥–æ–≤–æ—Ä–∞
							Content <= Contract $hyoo_shelter_animal_edit_links

$hyoo_shelter_animal_edit_links $mol_view
	sub /
		- <= List $mol_textarea
		<= Add $mol_button_minor
			sub /
				<= Add_icon $mol_icon_plus

$hyoo_shelter_animal_card $mol_link
	animal $hyoo_shelter_animal / *
	shelters $hyoo_shelter_shelter_list / *
	arg * animal <= id \
	attr *
		^
		gravity_animal_card_gender <= gender \
	sub /
		<= Shelter $mol_view sub / <= shelter_name \
		<= Card $mol_dimmer
			haystack <= card \
			needle <= highlight \
		<= Kind $mol_view sub / <= kind \
		<= Name $mol_dimmer
			haystack <= name \
			needle <= highlight \
		<= Age $mol_view sub / <= age \
		<= Size $mol_view sub / <= size \

$hyoo_shelter_shelter_manage $mol_book2
	shelters $hyoo_shelter_shelter_list / *
	animals $hyoo_shelter_shelter_animals / *
	pages /
		<= Filter_page $mol_page
			tools /
				<= Source_link $mol_link_source
					uri \https://github.com/hyoo-ru/shelter.hyoo.ru
				<= Lights $mol_lights_toggle
				<= Logout $mol_button_minor
					click?event <=> logout?event null
					sub /
						<= Logout_icon $mol_icon_logout
			title <= filter_title \–§–∏–ª—å—Ç—Ä—ã
			body /
				<= Filter_list $mol_list
					rows <= filter_list /
						<= Filter_shelter_list $hyoo_shelter_shelter_manage_filter_group
							title \–ü—Ä–∏—é—Ç—ã
							items <= filter_shelter_list /
			foot /
				<= Summaries $mol_view
					sub /
						<= Summary_title $mol_view sub / \–û—Ç—á—ë—Ç—ã
						<= Summary_options $mol_view
							sub /
								<= Summary_1W $mol_link
									hint \–°–∫–∞—á–∞—Ç—å —Å–≤–æ–¥–Ω—ã–π –æ—Ç—á—ë—Ç
									file_name \1W.pdf
									target \_blank
									uri <= summary_1w \
									sub / \–ù–µ–¥–µ–ª—è
								<= Summary_1M $mol_link
									hint \–°–∫–∞—á–∞—Ç—å —Å–≤–æ–¥–Ω—ã–π –æ—Ç—á—ë—Ç
									file_name \1M.pdf
									target \_blank
									uri <= summary_1m \
									sub / \–ú–µ—Å—è—Ü
								<= Summary_3M $mol_link
									hint \–°–∫–∞—á–∞—Ç—å —Å–≤–æ–¥–Ω—ã–π –æ—Ç—á—ë—Ç
									file_name \3M.pdf
									target \_blank
									uri <= summary_3m \
									sub / \–ö–≤–∞—Ä—Ç–∞–ª
								<= Summary_1Y $mol_link
									hint \–°–∫–∞—á–∞—Ç—å —Å–≤–æ–¥–Ω—ã–π –æ—Ç—á—ë—Ç
									file_name \1Y.pdf
									target \_blank
									uri <= summary_1y \
									sub / \–ì–æ–¥
		<= Animals_page $mol_page
			tools <= animals_page_tools /
				<= Search $mol_search
					query?val <=> search?val \
				<= Add $mol_button_major
					click?event <=> add?event null
					hint \–î–æ–±–∞–≤–∏—Ç—å –∂–∏–≤–æ—Ç–Ω–æ–µ
					sub /
						<= Add_icon $mol_icon_plus
			title <= animals_title \–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏—é—Ç–æ–º
			body /
				<= Animal_list $mol_list
					rows <= animal_list /
					Empty <= Animal_list_empty $mol_row
						sub / \–ù–µ—Ç –∂–∏–≤–æ—Ç–Ω—ã—Ö
	Shelter_link_all $mol_link
		arg * shelter null
		sub / \–í—Å–µ
	Shelter_link!id $mol_link
		arg * shelter <= shelter_id!id \
		sub / <= shelter_name!id \
	Animal_edit!id $hyoo_shelter_animal_edit
		enabled <= can_edit true
		Download => Animal_download!id
		tools /
			<= Animal_download!id
			<= Close!id $mol_link
				arg * animal null
				sub /
					<= Close_icon!id $mol_icon_close
		animal <= animal!id
	-
	Animal_card!id $hyoo_shelter_animal_card
		animal <= animal!id $hyoo_shelter_animal / *
		highlight <= search
		shelters <= card_shelters $hyoo_shelter_shelter_list / *
	-
	Download $mol_link
		hint \–°–∫–∞—á–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∂–∏–≤–æ—Ç–Ω—ã—Ö –≤ –≤–∏–¥–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
		file_name <= download_name \
		uri <= download_link \
		sub /
			<= Download_icon $mol_icon_download

$hyoo_shelter_shelter_manage_filter_group $mol_list
	rows /
		<= Title $mol_view
			sub / <= title
		<= Items $mol_list
			rows <= items /

$hyoo_shelter $mol_book2
	plugins /
		<= Theme $mol_theme_auto
	Auth $hyoo_shelter_auth_form
	Manage $hyoo_shelter_shelter_manage
		logout?event <=> logout?event null
